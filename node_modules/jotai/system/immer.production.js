System.register(["immer","jotai","react"],function(f){"use strict";var i,u,s,a;return{setters:[function(c){i=c.produce},function(c){u=c.atom,s=c.useAtom},function(c){a=c.useCallback}],execute:function(){f({atomWithImmer:c,useImmerAtom:h,withImmer:g});function c(e){const o=u(e,(r,n,t)=>n(o,i(r(o),typeof t=="function"?t:()=>t)));return o}function h(e,o){const[r,n]=s(e,o),t=a(m=>n(i(W=>m(W))),[n]);return[r,t]}const A=(e,o)=>{do{const[r,...n]=o,t=e.get(r);if(!t)return;if(!n.length)return t[1];e=t[0],o=n}while(o.length)},l=(e,o,r)=>{do{const[n,...t]=o;let m=e.get(n);if(m||(m=[new WeakMap],e.set(n,m)),!t.length){m[1]=r;return}e=m[0],o=t}while(o.length)},I=(()=>{const e=new WeakMap;return(r,n)=>{const t=A(e,n);if(t)return t;const m=r();return l(e,n,m),m}})();function g(e){return I(()=>u(r=>r(e),(r,n,t)=>n(e,i(r(e),typeof t=="function"?t:()=>t))),[e])}}}});
