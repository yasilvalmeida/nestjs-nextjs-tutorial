System.register(["react","jotai"],function(z){"use strict";var h,A,I,M,N,P,m;return{setters:[function(f){h=f.useRef,A=f.useEffect,I=f.useContext,M=f.useState,N=f.useCallback},function(f){P=f.useAtom,m=f.SECRET_INTERNAL_getScopeContext}],execute:function(){z({useAtomDevtools:f,useAtomsDevtools:W,useAtomsSnapshot:$,useGotoAtomsSnapshot:g});function f(e,r,c){let t;try{t=window.__REDUX_DEVTOOLS_EXTENSION__}catch{}const[n,a]=P(e,c),S=h(n),v=h(!1),s=h(),i=r||e.debugLabel||e.toString();A(()=>{if(t){const T=o=>{if(typeof a=="function"){a(o);return}console.warn(`[Warn] you cannot do write operations (Time-travelling, etc) in read-only atoms
`,e)};s.current=t.connect({name:i});const E=s.current.subscribe(o=>{var l,d,w,u,p,D;if(o.type==="ACTION"&&o.payload)try{T(JSON.parse(o.payload))}catch(O){console.error(`please dispatch a serializable value that JSON.parse() support
`,O)}else o.type==="DISPATCH"&&o.state?(((l=o.payload)==null?void 0:l.type)==="JUMP_TO_ACTION"||((d=o.payload)==null?void 0:d.type)==="JUMP_TO_STATE")&&(v.current=!0,T(JSON.parse(o.state))):o.type==="DISPATCH"&&((w=o.payload)==null?void 0:w.type)==="COMMIT"?(u=s.current)==null||u.init(S.current):o.type==="DISPATCH"&&((p=o.payload)==null?void 0:p.type)==="IMPORT_STATE"&&(((D=o.payload.nextLiftedState)==null?void 0:D.computedStates)||[]).forEach(({state:C},_)=>{var y;_===0?(y=s.current)==null||y.init(C):T(C)})});return s.current.shouldInit=!0,E}},[e,t,i,a]),A(()=>{s.current&&(S.current=n,s.current.shouldInit?(s.current.init(n),s.current.shouldInit=!1):v.current?v.current=!1:s.current.send(`${i} - ${new Date().toLocaleString()}`,n))},[e,t,i,n])}const R="h",b="n",U="l",V="a",G="m",J=(e,r)=>{const c=r.map(t=>{var n,a;const S=(a=(n=e[V])==null?void 0:n.call(e,t))!=null?a:{};return[t,"v"in S?S.v:void 0]});return new Map(c)};function $(e){const r=m(e),t=I(r).s;if(!t[b])throw new Error("useAtomsSnapshot can only be used in dev mode.");const[n,a]=M(()=>new Map);return A(()=>{var S;const v=()=>{var i;const T=Array.from(((i=t[U])==null?void 0:i.call(t))||[]);a(J(t,T))},s=(S=t[b])==null?void 0:S.call(t,v);return v(),s},[t]),n}function g(e){const r=m(e),t=I(r).s;if(!t[b])throw new Error("useGotoAtomsSnapshot can only be used in dev mode.");return N(n=>{t[R](n)},[t])}const H=(e,r)=>e.size===r.size&&Array.from(e).every(([c,t])=>Object.is(r.get(c),t)),X=(e,r)=>e.size===r.size&&Array.from(e).every(([c,t])=>{const n=r.get(c);return n&&t.size===n.size&&Array.from(t).every(a=>n.has(a))}),x=e=>e.debugLabel?`${e}:${e.debugLabel}`:`${e}`,L=e=>{const r={};e[0].forEach((t,n)=>{r[x(n)]=t});const c={};return e[1].forEach((t,n)=>{c[x(n)]=Array.from(t).map(x)}),{values:r,dependents:c}};function W(e,r){const c=m(r),{s:t,w:n}=I(c);if(!t[b])throw new Error("useAtomsDevtools can only be used in dev mode.");const[a,S]=M(()=>[new Map,new Map]);A(()=>{var l;const d=()=>{var u,p,D;const O=new Map,C=new Map;for(const _ of((u=t[U])==null?void 0:u.call(t))||[]){const y=(p=t[V])==null?void 0:p.call(t,_);if(y){if(y.r===y.i)return;"v"in y&&O.set(_,y.v)}const k=(D=t[G])==null?void 0:D.call(t,_);k&&C.set(_,k.t)}S(_=>H(_[0],O)&&X(_[1],C)?_:[O,C])},w=(l=t[b])==null?void 0:l.call(t,d);return d(),w},[t]);const v=N(l=>{n?n(d=>{t[R](l,d)}):t[R](l)},[t,n]);let s;try{s=window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!t[b])throw new Error("useAtomsSnapshot can only be used in dev mode.");const i=h(!1),T=h(!0),E=h(),o=h([]);A(()=>{if(s){const l=(u=o.current.length-1)=>{const p=o.current[u>=0?u:0];if(!p)throw new Error("snaphost index out of bounds");return p},d=s.connect({name:e}),w=d.subscribe(u=>{var p;switch(u.type){case"DISPATCH":switch((p=u.payload)==null?void 0:p.type){case"RESET":break;case"COMMIT":d.init(L(l())),o.current=[];break;case"JUMP_TO_ACTION":case"JUMP_TO_STATE":i.current=!0,v(l(u.payload.actionId-1)[0]);break;case"PAUSE_RECORDING":T.current=!T.current;break}}});return E.current=d,E.current.shouldInit=!0,w}},[s,v,e]),A(()=>{if(!!E.current){if(E.current.shouldInit){E.current.init(void 0),E.current.shouldInit=!1;return}i.current?i.current=!1:T.current&&(o.current.push(a),E.current.send({type:`${o.current.length}`,updatedAt:new Date().toLocaleString()},L(a)))}},[a])}}}});
